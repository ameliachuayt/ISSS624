---
title: "Hands-on Exercise 1: Geospatial Data Wrangling with R"
editor: visual
---

## Overview

In this hands-on exercise, I learned how to import, and wrangle geospatial data using appropriate R packages.

## Getting Started

The code chunk below installs and loads sf and tidyverse packages into R environment. [*pacman()*](https://cran.r-project.org/web/packages/pacman/readme/README.html) is a R package management tool. It provides intuitively named functions for the base functions.

```{r}
pacman::p_load(sf, tidyverse)

```

An alternate way to install and import the libraries is as follows:

```{r}
packages = c('sf','tidyverse')
for (p in packages){
  if(!require(p, character.only = T)){
    install.packages(p)
  }
  library(p, character.only = T)
}
```

## Import Geospatial Data

In this section, I learned how to import the following geospatial data into R by using [*st_read()*](https://r-spatial.github.io/sf/reference/st_read.html) of **sf** package:

-   `MP14_SUBZONE_WEB_PL`, a **polygon feature layer** in ESRI shapefile format,

-   `CyclingPath`, a **line feature layer** in ESRI shapefile format, and

-   `PreSchool`, a **point feature layer** in kml file format.

### Import polygon feature date in shapefile format

The code chunk below uses *st_read()* function of **sf** package to import `MP14_SUBZONE_WEB_PL` shapefile into R as a polygon feature data frame.

When the input geospatial data is in shapefile format (*.shp*), two arguments will be used: `dsn` to define the data path and `layer` to provide the shapefile name. No extensions such as .shp, .dbf, .prj and .shx are reqquired.

```{r}
mpsz = st_read(dsn="data\\geospatial",
               layer = "MP14_SUBZONE_WEB_PL")

```

The output shows that there are 323 multipolygon features and 15 fields. The Bounding box provides the x extend and y extend of the data.

### Import polyline feature data in shapefile form

The code chunk below uses *st_read()* function of **sf** package to import `CyclingPath` shapefile into R as a **line feature** data frame.

```{r}
cyclingpath = st_read(dsn = "data\\geospatial",
                      layer = 'CyclingPath')
```

The output shows that there are 1625 features and 2 fields in `CyclingPath` linestring feature data frame and it is in **svy21** projected coordinates system.

### Import GIS data in kml format

The code chunk below uses *st_read()* function of **sf** package to import `pre-schools-location-kml` kml file into R as a **point feature** layer. Since we are dealing with a kml file, instead of specifying `dsn` and `layer`, we specify the complete path and file extension.

```{r}

preschool = st_read("data\\geospatial\\pre-schools-location-kml.kml")

```

The output reveals that `preschool` is a point feature data frame (see "Geometry type: POINT'"). There are a total of 1359 features and 2 fields. Different from the previous two simple feature data frame, preschool is in wgs84 coordinates system (see "Geodetic CRS: WGS 84").
